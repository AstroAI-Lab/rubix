# TODO maybe split this into multiple files
logger:
  log_level: "DEBUG"
  format: "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
  log_file_path: null

IllustrisAPI:
  DEFAULT_FIELDS:
    gas:
      - Coordinates
      - Density
      - Masses
      - ParticleIDs
      - GFM_Metallicity
      - SubfindHsml
      - StarFormationRate
      - InternalEnergy
      - Velocities
      - ElectronAbundance
      - GFM_Metals
    stars:
      - Coordinates
      - GFM_InitialMass
      # - Masses
      # - ParticleIDs
      - GFM_Metallicity
      - GFM_StellarFormationTime
      - Velocities

IllustrisHandler:
  MAPPED_FIELDS:
    PartType4:
      Coordinates: coords
      GFM_InitialMass: mass
      GFM_Metallicity: metallicity
      Velocities: velocity
      GFM_StellarFormationTime: age # for this we convert SFT to age

  MAPPED_PARTICLE_KEYS:
    PartType4: stars
    # Currently only PartType4 is supported

  SIMULATION_META_KEYS:
    name: SimulationName
    snapshot: SnapshotNumber
    redshift: Redshift
    subhalo_id: CutoutID
    api_request: CutoutRequest

  GALAXY_SUBHALO_KEYS:
    halfmassrad_stars: halfmassrad_stars

  UNITS:
    stars:
      coords: cm
      mass: g
      metallicity: ""
      velocity: cm/s
      age: Gyr
    galaxy:
      center: cm
      halfmassrad_stars: cm
      redshift: ""

  ILLUSTRIS_DATA:
    - Header
    - SubhaloData
    - PartType4

#Defines the fields that are required and the units in which they are stored
BaseHandler:
  galaxy:
    redshift: ""
    center: "kpc"
    halfmassrad_stars: "kpc"
  particles:
    stars:
      coords: "kpc"
      mass: "Msun"
      velocity: "kpc/s"
      metallicity: ""
      age: "Gyr"

ssp:
  # units of the SSP grid that is used internally in the code
  # if a given SSP has different units, they are converted to the ones listed below
  units:
    age: Gyr
    metallicity: ""
    wavelength: Angstrom
    flux: Lsun/Angstrom
  templates:
    BruzualCharlot2003:
      name: "Bruzual & Charlot (2003)"
      format: "HDF5" # Format of the template
      source: "https://www.bruzual.org/bc03/" # note: we end with a slash, so that in combination with the file_name, the full URL is formed
      file_name: "BC03lr.h5" # File name of the template, stored in templates directory
      # Define the Fields in the template and their units
      # This is used to convert them to the required units
      fields: # Fields in the template and their units
        # Name defines the name of the key stored in the hdf5 file
        age:
          name: "age"
          units: "Gyr" # Age of the template
          in_log: false # If the field is stored in log scale
        metallicity:
          name: "metallicity"
          units: "" # Metallicity of the template
          in_log: false # If the field is stored in log scale
        wavelength:
          name: "wavelength"
          units: "Angstrom" # Wavelength of the template
          in_log: false # If the field is stored in log scale
        flux:
          name: "flux"
          units: "Lsun/Angstrom" # Luminosity of the template
          in_log: false # If the field is stored in log scale

    Mastar_CB19_SLOG_1_5:
      name: "Mastar Charlot & Bruzual (2019)"
      # more information on how those models are synthesized: Appendix A of Sanchez et al. 2022
      # https://arxiv.org/pdf/2206.07062
      format: "PyPipe3D" # Format of the template
      source: "http://ifs.astroscu.unam.mx/pyPipe3D/templates/" # note: we end with a slash, so that in combination with the file_name, the full URL is formed
      file_name: "MaStar_CB19.slog_1_5.fits" # File name of the template, stored in templates directory
      # Define the Fields in the template and their units
      # This is used to convert them to the required units
      fields: # Fields in the template and their units
        # Name defines the name of the key stored in the hdf5 file
        age:
          name: "age"
          units: "Gyr" # Age of the template
          in_log: false # If the field is stored in log scale
        metallicity:
          name: "metallicity"
          units: "" # Metallicity of the template
          in_log: false # If the field is stored in log scale
        wavelength:
          name: "wavelength"
          units: "Angstrom" # Wavelength of the template
          in_log: false # If the field is stored in log scale
        flux:
          name: "flux"
          units: 'Lsun/Angstrom' # Luminosity of the template
          in_log: false # If the field is stored in log scale

